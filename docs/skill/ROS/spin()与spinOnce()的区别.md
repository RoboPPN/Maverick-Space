## ros消息回调处理函数ros::spin()与ros::spinOnce()的区别

**消息回调函数处理机制：接收订阅消息时，接收到的消息并不是立刻就处理，而是将传入的消息存入到队列中，必须要等到ros::spin()或ros::spinOnce()执行的时候才被调用，这就是消息回调函数的原理。**



如果你的程序写了相关的消息订阅函数，那么程序在执行过程中，除了主程序以外，ROS还会自动在后台按照你规定的格式，接受订阅的消息，但是所接到的消息并不是立刻就被处理，而是必须要等到ros::spin()或ros::spinOnce()执行的时候才被调用，这就是消息回到函数的原理。


两者的区别在于

1. ros::spin()调用后程序就不往下执行，一直在调用。ros::spin()函数一般不会出现在循环中，因为程序执行到spin()后就不调用其他语句了，也就是说该循环没有任何意义，还有就是spin()函数后面一定不能有其他语句(return 0 除外)，有也是白搭，不会执行的。

2. 而ros::spinOnce()调用后还可以执行下面的程序，只调用一次（如果还想调用，那就要加上循环了）。


如果程序写了相关的消息订阅函数，千万别忘了在相应的位置上加上`ros::spin()`或者`ros::spinOnce()`函数,不然就会永远得不到另一边发出的数据消息。
